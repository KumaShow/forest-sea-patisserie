import{u as r,x as o}from"./index-c79f23f6.js";import{u as d}from"./ToastMessageStore-851a6cf0.js";const{VITE_API:n,VITE_API_PATH:c}={VITE_API:"https://vue3-course-api.hexschool.io/v2",VITE_API_PATH:"benson-vue3",BASE_URL:"/forest-sea-patisserie/",MODE:"production",DEV:!1,PROD:!0},{pushMessage:f}=d(),h=r("useCalendarStore",{state:()=>({days:[],articleDayOff:[]}),getters:{dates(){return this.days.map(t=>t.id)},dayOff(){return this.dates.map(t=>new Date(t).getDate())},attributes(){return this.dates.map(t=>({highlight:!0,dates:t}))}},actions:{onDayClick(t){const e=this.days.findIndex(s=>s.id===t.id);e>=0?this.days.splice(e,1):this.days.push({id:t.id,date:t.date})},getDayOff(){const t=`${n}/api/${c}/articles`;o.get(t).then(e=>{const a=e.data.articles.filter(i=>i.isDayOff);this.articleDayOff=a[0].dayOff}).catch(e=>{f({style:"danger",title:"取日期失敗，請稍後再試",content:`${e.response.data.message}`})})}}});export{h as u};
